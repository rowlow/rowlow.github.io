$(function(){var o=$($("hr[id]").get().reverse()),t=$(".chapter-nav"),n=function(){e(),a(),console.info(o)},e=function(){t.data("top",t.offset().top)},a=function(){$(window).on("scroll",i),$(".chapter-nav > ul > li > a").on("click",s)},s=function(o){return $(this).next().addClass("open"),!1},i=function(n){$(window).scrollTop()>=t.data("top")?$(".chapter-nav").addClass("fixed"):$(".chapter-nav").removeClass("fixed"),o.each(function(){return $(this).offset().top<=$(window).scrollTop()+$(window).height()?(console.info("current",$(this).attr("id")),$("a",t).removeClass("active").closest("ul").removeClass("open"),$('a[href="#'+$(this).attr("id")+'"]',t).addClass("active").closest("ul").addClass("open"),!1):void 0})};n()});